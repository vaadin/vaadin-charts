<!doctype html>

<head>
  <meta charset="UTF-8">
  <title>vaadin-chart tests</title>
  <script src="../../web-component-tester/browser.js"></script>
  <link rel="import" href="../vaadin-chart.html">
</head>

<body>
  <test-fixture id="empty-chart">
    <template>
      <vaadin-chart>
      </vaadin-chart>
    </template>
  </test-fixture>

  <script>
    describe('Test defaults in theme', function() {
      var chart;

      beforeEach(done => {
        chart = fixture('empty-chart');
        Polymer.flush();
        setTimeout(() => {
          done();
        }, 100);
      });


      it('data label connectors should have no fill', function(done) {
        chart.update({
          series: [{
            type: 'pie',
            data: [29.9, 71.5, 50]
          }]
        });
        setTimeout(function() {
          const chartContainer = chart.$.chart;
          const connectors = Array.from(chartContainer.querySelectorAll('.highcharts-data-label-connector'));
          expect(connectors).to.have.lengthOf(3);
          connectors.forEach(connector => expect(window.getComputedStyle(connector).fill).to.equal('none'));
          done();
        }, 20);
      });


    });
  </script>
</body>